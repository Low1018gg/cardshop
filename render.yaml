services:
  - type: web
    name: cardshop-api
    env: node
    plan: starter
    rootDir: server
    buildCommand: npm install && npx prisma generate
    startCommand: node src/index.js
    healthCheckPath: /
    autoDeploy: true
    envVars:
      - key: NODE_VERSION
        value: 20
      - key: PORT
        value: 8080
      # Set these in Render dashboard (do not commit secrets):
      # DATABASE_URL
      # JWT_SECRET
      # WEBHOOK_SECRET
